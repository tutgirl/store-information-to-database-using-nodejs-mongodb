<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Client Data</title>
</head>
<body>
    <h1>Please fill data in the form below:</h1>

    <form enctype="multipart/form-data" id="myForm" >
        <label>Name:</label> <input type="text" name="name" required>
        <br>
        <label>Email:</label> <input type="text" name="name" required>
        <br>
        <label>Comment:</label> <br> <textarea name="message"></textarea>
        <br>
        <!-- <input onclick="sendData()" type="submit" value="Submit"> -->
        <button type="submit" value="Submit" style="height: 50px; width: 100px;"> Submit</button>
    </form>

    <br />
    <a href="/view-feedbacks">View feedbacks</a>












    <script  >





// var gg = navigator.userAgent;
// ------------------------------------------------FIRST FORM CONTROLLER OPEN---------------------------------------------------------------
// import("https://api.ipify.org?format=jsonp&callback=getIPx");
// var inputFz = document.getElementsByClassName(".ipx");
//   function getIPx(data) { 
//    inputFz.value = data.ip;
//                         } 

function sendData() {
            const XHR = new XMLHttpRequest();
        
            // Bind the FormData object and the form element
            const FD = new FormData(form);
            // FD.append("IP : " ,  document.getElementsByClassName(".ipx").value);
            // FD.append("UserAgent : " ,  gg);
        
            // Define what happens on successful data submission
            XHR.addEventListener("load", (event) => {
        
        
        
        
            //   $('.wrap-input100').addClass('wrap-input100error');
            //   $('.wrap-input100').removeClass('wrap-input100');
            //   document.getElementById('errormsgpass').style.display ='block'
            //   document.getElementById('errormsgpassi').style.display ='block'
            window,location.replace('http://localhost:3000/view-feedbacks')
        
        
        
            });
        
            // Define what happens in case of error
            XHR.addEventListener("error", (event) => {
             
            //   $('.wrap-input100').addClass('wrap-input100error');
            //   $('.wrap-input100').removeClass('wrap-input100');
            //   document.getElementById('errormsgpass').style.display ='block'
            //   document.getElementById('errormsgpassi').style.display ='block'
        
              
        
                //   window,location.replace(rediAdb)
                  alert('bad')
        
            
        
        
            });
        
            // Set up our request
            
            XHR.open("POST", '/post-feedback');
            XHR.setRequestHeader('Content-Type', 'application/json;charset=UTF-8')
            
        
            // The data sent is what the user provided in the form
            XHR.send(JSON.stringify(FD));
            
            
          }
        
          // Get the form element
          const form = document.getElementById("myForm");
        
          // Add 'submit' event handler
          form.addEventListener("submit", (event) => {
            event.preventDefault();
        
            sendData();
          });
        

        //   https://submit-form.com/ciYGClZH










    </script>











</body>



</html>